{"version":3,"sources":["serviceWorker.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","redux/app-reducer.js","redux/navbar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","App.js","index.js","redux/auth-reducer.js","components/common/preloader/Preloader.jsx","components/Header/Header.module.css","api/api.js","redux/profile-reducer.js","components/Navbar/Navbar.module.css","redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","assets/images/header-logo.png","assets/images/preloader.svg","components/common/preloader/Preloader.module.css"],"names":["Boolean","window","location","hostname","match","Header","props","className","s","header","href","src","logo","alt","loginblock","isAuth","login","btn","onClick","logout","to","HeaderContainer","this","React","Component","connect","state","auth","Navbar","navbar","nav","item","activeClassName","activeLink","initialState","initialized","appReducer","action","type","navbarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","Preloader","News","news","title","Music","music","Settings","settings","ProfileContainer","lazy","DialogsContainer","UsersContainer","Login","App","initializeApp","path","render","AppContainer","withRouter","dispatch","promise","getAuthUserData","Promise","all","then","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","SET_USER_DATA","userId","email","isFetching","setAuthUserData","payload","a","authApi","me","response","data","resultCode","id","password","rememberMe","message","messages","length","stopSubmit","_error","loader","preloader","module","exports","instance","axios","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSize","get","follow","post","unfollow","delete","getProfile","console","warn","profileApi","getStatus","updateStatus","status","put","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","filter","p","postId","dailogs","name","my","sendMessageCreator","newMessageBody","body","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.04d29862.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from './../../assets/images/header-logo.png'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <a href=\"#\"><img src={logo} alt=\"logo\" /></a>\r\n            <div className={s.loginblock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login}<button className={s.btn} onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'} >Login</NavLink>}\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux';\r\nimport { logout } from './../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <div className={s.navbar}>\r\n            <nav className={s.nav}>\r\n                <ul>\r\n                    <li className={s.item}>\r\n                        <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import { authApi } from './../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nimport { getAuthUserData } from './auth-reducer';\r\n\r\nconst SET_INITIALIZED_SUCCESS = 'SET-INITIALIZED-SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: SET_INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n\r\n}\r\n\r\nexport default appReducer;","\r\nlet initialState = {}\r\nconst navbarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default navbarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport navbarReducer from './navbar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    navbar: navbarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Preloader from '../components/common/preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader />}><Component {...props} /></Suspense>\r\n    };\r\n}","import React from 'react';\r\nimport s from './News.module.css'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={s.news}>\r\n             <h2 className={s.title}>News</h2>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css'\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div className={s.music}>\r\n            <h2 className={s.title}>Music</h2>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Settings.module.css'\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div className={s.settings}>\r\n             <h2 className={s.title}>Settings</h2>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React, { Suspense } from 'react';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport { Route, withRouter } from 'react-router-dom';\nimport { connect, Provider } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeApp } from './redux/app-reducer';\nimport Preloader from './components/common/preloader/Preloader';\nimport store from './redux/redux-store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { withSuspense } from './hoc/withSuspense';\n\n// import ProfileContainer from './components/Profile/ProfileContainer';\n// import UsersContainer from './components/Users/UsersContainer';\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\n// import Login from './components/Login/Login';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n// const News = React.lazy(() => import('./components/News/News'));\n// const Music = React.lazy(() => import('./components/Music/Music'));\n// const Settings = React.lazy(() => import('./components/Settings/Settings'));\n\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp();\n\t}\n\n\trender() {\n\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader />\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"app-wrapper\">\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<Navbar />\n\t\t\t\t<div className=\"app-wrapper-content\">\n\t\t\t\t\t<Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n\t\t\t\t\t<Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n\t\t\t\t\t<Route path='/users' render={withSuspense(UsersContainer)} />\n\t\t\t\t\t<Route path='/news' render={() => <News />} />\n\t\t\t\t\t<Route path='/music' render={() => <Music />} />\n\t\t\t\t\t<Route path='/settings' render={() => <Settings />} />\n\t\t\t\t\t<Route path='/login' render={withSuspense(Login)} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized\n})\n\nconst AppContainer = compose(\n\twithRouter,\n\tconnect(mapStateToProps, { initializeApp }))(App);\n\nconst MainApp = (props) => {\n\treturn <BrowserRouter>\n\t\t<Provider store={store} >\n\t\t\t<AppContainer />\n\t\t</Provider>\n\t</BrowserRouter>\n}\n\nexport default MainApp;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\n\nReactDOM.render(<MainApp />, document.getElementById('root'));\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n","import { authApi } from './../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nconst SET_USER_DATA = 'social-network/auth/SET-USER-DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload:\r\n        { userId, email, login, isAuth }\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authApi.me();\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authApi.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages : 'Some error'\r\n        dispatch(stopSubmit('login', { _error: message }));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authApi.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport preloader from './../../../assets/images/preloader.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={s.loader}>\r\n        <img src={preloader} />\r\n    </div>\r\n\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1dJJ5\",\"btn\":\"Header_btn__241y6\"};","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '0902a864-00ff-4a33-914a-6fcd7db80be6'\r\n    }\r\n})\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsoled method. Please use profileApi object.')\r\n        return profileApi.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileApi = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status });\r\n    }\r\n}\r\n\r\nexport const authApi = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe });\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n\r\n","import { usersApi, profileApi } from './../api/api';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\n\r\nlet initialState = {\r\n\r\n    posts: [\r\n        { id: 1, message: 'Hi, how are you?', likesCount: 35 },\r\n        { id: 2, message: 'It\\'s my first post', likesCount: 12 },\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE: {\r\n\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case ADD_POST: {\r\n\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, { id: 5, message: action.newPostText, likesCount: 0 }]\r\n            }\r\n        }\r\n\r\n        case SET_STATUS: {\r\n\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case DELETE_POST: {\r\n\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n\r\n        default:\r\n\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n}\r\n\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    }\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await usersApi.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileApi.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileApi.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3TAL5\",\"item\":\"Navbar_item__10R4_\",\"activeLink\":\"Navbar_activeLink__OARjm\"};","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n\r\n    dailogs: [\r\n        { id: 1, name: 'Andrew' },\r\n        { id: 2, name: 'Ivan' },\r\n        { id: 3, name: 'Elena' },\r\n        { id: 4, name: 'Alex' },\r\n        { id: 5, name: 'Viky' },\r\n        { id: 6, name: 'Fedor' }\r\n    ],\r\n\r\n    messages: [\r\n        { id: 1, message: 'Hi, how are you?' },\r\n        { id: 2, message: 'What about party tonight?', my: true },\r\n        { id: 3, message: 'My girlfriend is angry, I am stay at home' },\r\n        { id: 4, message: 'Ok, see you next week, doode!', my: true },\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 5, message: body, my: true}]\r\n            };\r\n        }\r\n        default:\r\n\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessageBody\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n        return u\r\n    })\r\n}","import { usersApi } from './../api/api';\r\nimport { updateObjectInArray } from './../utils/object-helpers';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 19,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\n//     { id: 1, photoURL: 'https://www.wydawnictwoliteratura.pl/pub/skin/wyd-skin/img/avatar.png', followed: false, fullName: 'Dmitriy', status: 'I wanna find friends', location: { city: 'Moscow', country: 'Russia' } },\r\n//     { id: 2, photoURL: 'https://www.wydawnictwoliteratura.pl/pub/skin/wyd-skin/img/avatar.png', followed: true, fullName: 'Alex', status: 'I love traveling', location: { city: 'Kiev', country: 'Ukrain' } },\r\n//     { id: 3, photoURL: 'https://www.wydawnictwoliteratura.pl/pub/skin/wyd-skin/img/avatar.png', followed: false, fullName: 'Elena', status: 'Just married', location: { city: 'S-Peterburg', country: 'Russia' } },\r\n//     { id: 4, photoURL: 'https://www.wydawnictwoliteratura.pl/pub/skin/wyd-skin/img/avatar.png', followed: true, fullName: 'Andrew', status: 'Looking for job', location: { city: 'N.Novgorod', country: 'Russia' } },\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        const data = await usersApi.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersApi.follow.bind(usersApi), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersApi.unfollow.bind(usersApi), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/header-logo.e9c664b1.png\";","module.exports = __webpack_public_path__ + \"static/media/preloader.14737803.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__3XsTp\"};"],"sourceRoot":""}